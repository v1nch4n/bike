<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Perfect Bike</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
        }

        h1 {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .timeline {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            gap: 10px;
        }

        .timeline .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .timeline .step.completed {
            background-color: #4caf50;
            color: white;
        }

        .timeline .step:hover {
            background-color: #ddd;
        }

        .container {
            width: 90%;
            max-width: 600px;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            position: relative;
        }

        .question {
            color: #333;
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .options label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .options label:hover {
            background-color: #f1f1f1;
        }

        .options input {
            margin-right: 10px;
        }

        .button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #45a049;
        }

        .summary-content {
            text-align: left;
        }

        .summary-content p {
            margin: 5px 0;
        }

        .request-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-top: 20px;
        }

        .final-message {
            text-align: center;
            color: #333;
        }

    </style>
</head>
<body>
    <h1>Find Your Perfect Bike</h1>

    <div class="timeline" id="timeline"></div>

    <div class="container" id="screen1">
        <div class="question">Why do you need a bike?</div>
        <div class="options">
            <label><input type="checkbox" value="commuting"> Commuting</label>
            <label><input type="checkbox" value="fitness"> Fitness</label>
            <label><input type="checkbox" value="leisure"> Leisure</label>
            <label><input type="checkbox" value="off-road"> Off-Road Adventures</label>
            <label><input type="checkbox" value="racing"> Racing</label>
        </div>
        <button class="button" onclick="goToNextScreen(2)">Next</button>
    </div>

    <div class="container" id="screen2" style="display: none;">
        <div class="question">What is your riding style?</div>
        <div class="options">
            <label><input type="radio" name="riding-style" value="urban"> Urban</label>
            <label><input type="radio" name="riding-style" value="mountain"> Mountain</label>
            <label><input type="radio" name="riding-style" value="road"> Road</label>
            <label><input type="radio" name="riding-style" value="trail"> Trail</label>
            <label><input type="radio" name="riding-style" value="electric"> Electric</label>
        </div>
        <button class="button" onclick="goToNextScreen(3)">Next</button>
    </div>

    <div class="container" id="screen3" style="display: none;">
        <div class="question">Do you have some favorite brands?</div>
        <div class="options">
            <label><input type="checkbox" value="brand1"> Trek</label>
            <label><input type="checkbox" value="brand2"> Specialized</label>
            <label><input type="checkbox" value="brand3"> Giant</label>
            <label><input type="checkbox" value="brand4"> Cannondale</label>
            <label><input type="checkbox" value="brand5"> Scott</label>
            <label><input type="checkbox" value="brand6"> Bianchi</label>
            <label><input type="checkbox" value="brand7"> Canyon</label>
            <label><input type="checkbox" value="brand8"> Santa Cruz</label>
            <label><input type="checkbox" value="brand9"> Orbea</label>
            <label><input type="checkbox" value="brand10"> Cube</label>
            <label><input type="checkbox" value="dontcare"> I don't care</label>
            <label><input type="text" placeholder="Other (type your favorite brand)" id="other-brand"></label>
        </div>
        <button class="button" onclick="goToNextScreen(4)">Next</button>
    </div>

    <div class="container" id="screen4" style="display: none;">
        <div class="question">What is your budget?</div>
        <div class="options">
            <label><input type="radio" name="budget" value="cheap"> Go cheap, run expensive (200 to 500 CHF)</label>
            <label><input type="radio" name="budget" value="decent"> Find me a decent bike (500 to 1,500 CHF)</label>
            <label><input type="radio" name="budget" value="passion"> My bike is my passion (1,500 to unlimited CHF)</label>
        </div>
        <button class="button" onclick="goToNextScreen(5)">Next</button>
    </div>

    <div class="container" id="screen5" style="display: none;">
        <div class="question">Can the bike be occasion?</div>
        <div class="options">
            <label><input type="radio" name="occasion" value="yes"> Yes</label>
            <label><input type="radio" name="occasion" value="no"> No</label>
        </div>
        <button class="button" onclick="goToNextScreen(6)">Next</button>
    </div>

    <div class="container" id="screen6" style="display: none;">
        <div class="question">What is your email address?</div>
        <div class="options">
            <label><input type="email" id="email" placeholder="Enter your email" required></label>
        </div>
        <button class="button" onclick="validateEmail()">Next</button>
    </div>

    <div class="container" id="summary" style="display: none;">
        <h2>Summary</h2>
        <div class="summary-content" id="summary-content"></div>
        <button class="button" onclick="goToNextScreen(1)">Edit Answers</button>
        <button class="button" onclick="completeRequest()">Confirm</button>
    </div>

    <div class="container" id="completion" style="display: none;">
        <div class="final-message">
            <h2>Well Done!</h2>
            <p>You've provided me with all the information I need for the moment. I will get back to you with three bike offers within 24h.</p>
            <p class="request-number">Request Number: <span id="request-number"></span></p>
        </div>
    </div>

    <script>
        const timeline = document.getElementById('timeline');
        const questionScreens = ["screen1", "screen2", "screen3", "screen4", "screen5", "screen6"];
        const allScreens = [...questionScreens, "summary", "completion"];

        function setupTimeline() {
            questionScreens.forEach((_, index) => {
                const step = document.createElement('div');
                step.classList.add('step');
                step.textContent = index + 1;
                step.onclick = () => goToNextScreen(index + 1);
                timeline.appendChild(step);
            });
        }

        function updateTimeline(currentStep) {
            const steps = document.querySelectorAll('.timeline .step');
            steps.forEach((step, index) => {
                step.classList.toggle('completed', index < currentStep);
            });
        }

        function goToNextScreen(screenNumber) {
            allScreens.forEach((screen, index) => {
                document.getElementById(screen).style.display = index + 1 === screenNumber ? 'block' : 'none';
            });
            if (screenNumber <= questionScreens.length) {
                updateTimeline(screenNumber - 1);
            } else if (screenNumber === questionScreens.length + 1) {
                displaySummary();
            }
        }

        function validateEmail() {
            const email = document.getElementById('email').value;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (emailRegex.test(email)) {
                goToNextScreen(7);
            } else {
                alert('Please enter a valid email address.');
            }
        }

        function displaySummary() {
            const summaryContent = document.getElementById('summary-content');
            const answers = {
                reason: Array.from(document.querySelectorAll('#screen1 input:checked')).map(input => input.value),
                style: document.querySelector('#screen2 input:checked')?.value,
                brands: Array.from(document.querySelectorAll('#screen3 input:checked')).map(input => input.value),
                otherBrand: document.getElementById('other-brand').value.trim(),
                budget: document.querySelector('#screen4 input:checked')?.value,
                occasion: document.querySelector('#screen5 input:checked')?.value,
                email: document.getElementById('email').value.trim()
            };

            let summaryHTML = `<p><strong>Reason for bike:</strong> ${answers.reason.length > 0 ? answers.reason.join(', ') : 'Not specified'}</p>`;
            summaryHTML += `<p><strong>Riding style:</strong> ${answers.style || 'Not specified'}</p>`;
            summaryHTML += `<p><strong>Favorite brands:</strong> ${answers.brands.length > 0 ? answers.brands.join(', ') : 'Not specified'}</p>`;
            if (answers.otherBrand) {
                summaryHTML += `<p><strong>Other brand:</strong> ${answers.otherBrand}</p>`;
            }
            summaryHTML += `<p><strong>Budget:</strong> ${answers.budget || 'Not specified'}</p>`;
            summaryHTML += `<p><strong>Occasion:</strong> ${answers.occasion || 'Not specified'}</p>`;
            summaryHTML += `<p><strong>Email:</strong> ${answers.email}</p>`;

            summaryContent.innerHTML = summaryHTML;
        }

        function completeRequest() {
            const requestNumber = Math.random().toString().slice(2, 18);
            document.getElementById('request-number').textContent = requestNumber;
            goToNextScreen(8);
        }

        setupTimeline();
        goToNextScreen(1);
    </script>
</body>
</html>
